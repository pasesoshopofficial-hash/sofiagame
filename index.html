<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé® ColoreazƒÉ cu Drag & Drop - Joc pentru Copii</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap');
        
        * {
            font-family: 'Nunito', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .color-ball {
            cursor: grab;
            transition: transform 0.2s, box-shadow 0.2s;
            user-select: none;
            -webkit-user-select: none;
        }
        
        .color-ball:hover {
            transform: scale(1.2);
        }
        
        .color-ball:active {
            cursor: grabbing;
        }
        
        .color-ball.dragging {
            opacity: 0.7;
            transform: scale(1.3);
        }
        
        .coloring-area {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        
        .art-line-image {
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .art-line-image:hover {
            transform: scale(1.02);
        }
        
        .art-line-image path,
        .art-line-image polygon,
        .art-line-image circle,
        .art-line-image ellipse,
        .art-line-image rect {
            transition: fill 0.3s ease;
            cursor: pointer;
        }
        
        .art-line-image path:hover,
        .art-line-image polygon:hover,
        .art-line-image circle:hover,
        .art-line-image ellipse:hover,
        .art-line-image rect:hover {
            filter: brightness(1.1);
        }
        
        .sparkle {
            position: fixed;
            pointer-events: none;
            animation: sparkle 0.6s ease-out forwards;
        }
        
        @keyframes sparkle {
            0% { transform: scale(0) rotate(0deg); opacity: 1; }
            100% { transform: scale(1.5) rotate(180deg); opacity: 0; }
        }
        
        .bounce {
            animation: bounce 0.5s ease;
        }
        
        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        
        .thumbnail {
            transition: all 0.3s;
            border: 4px solid transparent;
        }
        
        .thumbnail:hover {
            transform: scale(1.1);
            border-color: #fbbf24;
        }
        
        .thumbnail.active {
            border-color: #10b981;
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.5);
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <!-- Header -->
    <div class="text-center mb-6">
        <h1 class="text-4xl md:text-6xl font-black text-white drop-shadow-lg mb-2">
            üé® ColoreazƒÉ! üåà
        </h1>
        <p class="text-white/80 text-lg">Trage culorile pe desen pentru a colora!</p>
    </div>

    <div class="max-w-6xl mx-auto">
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
            
            <!-- Paleta de culori -->
            <div class="lg:col-span-1">
                <div class="bg-white/20 backdrop-blur-sm rounded-3xl p-4 mb-4">
                    <h2 class="text-white font-bold text-xl text-center mb-4">üé® Culori</h2>
                    <div class="grid grid-cols-4 lg:grid-cols-2 gap-3" id="colorPalette">
                        <!-- Culorile vor fi generate cu JavaScript -->
                    </div>
                </div>
                
                <!-- Butoane -->
                <div class="bg-white/20 backdrop-blur-sm rounded-3xl p-4 space-y-3">
                    <button onclick="resetDrawing()" class="w-full bg-yellow-400 hover:bg-yellow-500 text-yellow-900 font-bold py-4 px-6 rounded-2xl text-xl transition-all hover:scale-105 shadow-lg">
                        üîÑ ReseteazƒÉ
                    </button>
                    <button onclick="downloadDrawing()" class="w-full bg-green-400 hover:bg-green-500 text-green-900 font-bold py-4 px-6 rounded-2xl text-xl transition-all hover:scale-105 shadow-lg">
                        üíæ SalveazƒÉ
                    </button>
                </div>
            </div>

            <!-- Zona de colorat -->
            <div class="lg:col-span-3">
                <div class="coloring-area p-4 md:p-8" id="coloringArea">
                    <div id="currentDrawing" class="flex items-center justify-center min-h-[400px]">
                        <!-- Desenul curent va fi aici -->
                    </div>
                </div>
                
                <!-- Galeria de desene -->
                <div class="mt-4 bg-white/20 backdrop-blur-sm rounded-3xl p-4">
                    <h2 class="text-white font-bold text-xl text-center mb-4">üìö Alege un desen:</h2>
                    <div class="flex flex-wrap gap-3 justify-center" id="drawingGallery">
                        <!-- Thumbnails vor fi generate -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Indicator culoare selectatƒÉ -->
    <div id="selectedColorIndicator" class="fixed bottom-4 right-4 bg-white rounded-full p-2 shadow-xl hidden">
        <div class="flex items-center gap-2 px-4">
            <span class="text-gray-700 font-bold">Culoare:</span>
            <div id="currentColorPreview" class="w-10 h-10 rounded-full border-4 border-gray-300"></div>
        </div>
    </div>

    <script>
        // Culorile disponibile - culori vesele pentru copii!
        const colors = [
            { name: 'Ro»ôu', hex: '#ef4444' },
            { name: 'Portocaliu', hex: '#f97316' },
            { name: 'Galben', hex: '#eab308' },
            { name: 'Verde', hex: '#22c55e' },
            { name: 'Albastru', hex: '#3b82f6' },
            { name: 'Mov', hex: '#a855f7' },
            { name: 'Roz', hex: '#ec4899' },
            { name: 'Maro', hex: '#a16207' },
            { name: 'Turcoaz', hex: '#06b6d4' },
            { name: 'Lime', hex: '#84cc16' },
            { name: 'Coral', hex: '#fb7185' },
            { name: 'Alb', hex: '#ffffff' }
        ];

        let selectedColor = colors[0].hex;
        let currentDrawingIndex = 0;

        // ============================================================
        // üé® SPA»öIU SPECIAL PENTRU DESENE NOI - ADAUGƒÇ AICI! üé®
        // ============================================================
        // 
        // Pentru a adƒÉuga un desen nou:
        // 1. CopiazƒÉ codul SVG al desenului tƒÉu
        // 2. AdaugƒÉ-l √Æn array-ul "drawings" de mai jos
        // 3. AsigurƒÉ-te cƒÉ fiecare element (path, circle, etc.) are:
        //    - fill="white" (pentru a fi colorabil)
        //    - stroke="black" (pentru contur)
        //    - stroke-width="2" sau "3"
        //    - class="colorable" (IMPORTANT!)
        //
        // Exemplu:
        // {
        //     name: 'Numele Desenului',
        //     svg: `<svg viewBox="0 0 200 200">
        //         <circle cx="100" cy="100" r="50" fill="white" stroke="black" stroke-width="3" class="colorable"/>
        //     </svg>`
        // }
        // ============================================================

        const drawings = [
            // üå∏ FLOARE
            {
                name: 'Floare',
                svg: `<svg viewBox="0 0 200 200" class="art-line-image w-full h-full max-h-[500px]">
                    <!-- Petale -->
                    <ellipse cx="100" cy="50" rx="30" ry="40" fill="white" stroke="black" stroke-width="3" class="colorable"/>
                    <ellipse cx="150" cy="100" rx="40" ry="30" fill="white" stroke="black" stroke-width="3" class="colorable"/>
                    <ellipse cx="100" cy="150" rx="30" ry="40" fill="white" stroke="black" stroke-width="3" class="colorable"/>
                    <ellipse cx="50" cy="100" rx="40" ry="30" fill="white" stroke="black" stroke-width="3" class="colorable"/>
                    <!-- Centru -->
                    <circle cx="100" cy="100" r="25" fill="white" stroke="black" stroke-width="3" class="colorable"/>
                </svg>`
            },
            // ‚≠ê STEA
            {
                name: 'Stea',
                svg: `<svg viewBox="0 0 200 200" class="art-line-image w-full h-full max-h-[500px]">
                    <polygon points="100,10 120,75 190,75 135,115 155,180 100,145 45,180 65,115 10,75 80,75" 
                             fill="white" stroke="black" stroke-width="3" class="colorable"/>
                </svg>`
            },
            // ‚ù§Ô∏è INIMƒÇ
            {
                name: 'InimƒÉ',
                svg: `<svg viewBox="0 0 200 200" class="art-line-image w-full h-full max-h-[500px]">
                    <path d="M100,180 C20,120 20,50 70,50 C90,50 100,70 100,70 C100,70 110,50 130,50 C180,50 180,120 100,180 Z" 
                          fill="white" stroke="black" stroke-width="3" class="colorable"/>
                </svg>`
            },
            // ü¶ã FLUTURE
            {
                name: 'Fluture',
                svg: `<svg viewBox="0 0 200 200" class="art-line-image w-full h-full max-h-[500px]">
                    <!-- Aripi st√¢nga -->
                    <ellipse cx="55" cy="70" rx="45" ry="35" fill="white" stroke="black" stroke-width="3" class="colorable"/>
                    <ellipse cx="45" cy="130" rx="35" ry="30" fill="white" stroke="black" stroke-width="3" class="colorable"/>
                    <!-- Aripi dreapta -->
                    <ellipse cx="145" cy="70" rx="45" ry="35" fill="white" stroke="black" stroke-width="3" class="colorable"/>
                    <ellipse cx="155" cy="130" rx="35" ry="30" fill="white" stroke="black" stroke-width="3" class="colorable"/>
                    <!-- Corp -->
                    <ellipse cx="100" cy="100" rx="12" ry="50" fill="white" stroke="black" stroke-width="3" class="colorable"/>
                    <!-- Antene -->
                    <path d="M95,55 Q80,30 70,25" fill="none" stroke="black" stroke-width="3"/>
                    <path d="M105,55 Q120,30 130,25" fill="none" stroke="black" stroke-width="3"/>
                    <circle cx="70" cy="25" r="5" fill="white" stroke="black" stroke-width="2" class="colorable"/>
                    <circle cx="130" cy="25" r="5" fill="white" stroke="black" stroke-width="2" class="colorable"/>
                </svg>`
            },
            // üè† CASƒÇ
            {
                name: 'CasƒÉ',
                svg: `<svg viewBox="0 0 200 200" class="art-line-image w-full h-full max-h-[500px]">
                    <!-- Acoperi»ô -->
                    <polygon points="100,20 170,80 30,80" fill="white" stroke="black" stroke-width="3" class="colorable"/>
                    <!-- Corp casƒÉ -->
                    <rect x="40" y="80" width="120" height="100" fill="white" stroke="black" stroke-width="3" class="colorable"/>
                    <!-- U»ôƒÉ -->
                    <rect x="80" y="130" width="40" height="50" fill="white" stroke="black" stroke-width="3" class="colorable"/>
                    <!-- FereastrƒÉ st√¢nga -->
                    <rect x="50" y="95" width="25" height="25" fill="white" stroke="black" stroke-width="3" class="colorable"/>
                    <!-- FereastrƒÉ dreapta -->
                    <rect x="125" y="95" width="25" height="25" fill="white" stroke="black" stroke-width="3" class="colorable"/>
                    <!-- Co»ô -->
                    <rect x="130" y="35" width="15" height="30" fill="white" stroke="black" stroke-width="3" class="colorable"/>
                </svg>`
            },
            // üåà CURCUBEU
            {
                name: 'Curcubeu',
                svg: `<svg viewBox="0 0 200 150" class="art-line-image w-full h-full max-h-[500px]">
                    <path d="M10,140 A90,90 0 0,1 190,140" fill="none" stroke="black" stroke-width="2"/>
                    <path d="M10,140 A90,90 0 0,1 190,140" fill="white" stroke="black" stroke-width="15" class="colorable"/>
                    <path d="M25,140 A75,75 0 0,1 175,140" fill="white" stroke="black" stroke-width="15" class="colorable"/>
                    <path d="M40,140 A60,60 0 0,1 160,140" fill="white" stroke="black" stroke-width="15" class="colorable"/>
                    <path d="M55,140 A45,45 0 0,1 145,140" fill="white" stroke="black" stroke-width="15" class="colorable"/>
                    <path d="M70,140 A30,30 0 0,1 130,140" fill="white" stroke="black" stroke-width="15" class="colorable"/>
                    <!-- Nori -->
                    <circle cx="25" cy="135" r="20" fill="white" stroke="black" stroke-width="2" class="colorable"/>
                    <circle cx="45" cy="130" r="15" fill="white" stroke="black" stroke-width="2" class="colorable"/>
                    <circle cx="175" cy="135" r="20" fill="white" stroke="black" stroke-width="2" class="colorable"/>
                    <circle cx="155" cy="130" r="15" fill="white" stroke="black" stroke-width="2" class="colorable"/>
                </svg>`
            },
            // üê± PISICƒÇ
            {
                name: 'PisicƒÉ',
                svg: `<svg viewBox="0 0 200 200" class="art-line-image w-full h-full max-h-[500px]">
                    <!-- Cap -->
                    <circle cx="100" cy="100" r="60" fill="white" stroke="black" stroke-width="3" class="colorable"/>
                    <!-- Urechi -->
                    <polygon points="50,60 30,15 70,45" fill="white" stroke="black" stroke-width="3" class="colorable"/>
                    <polygon points="150,60 170,15 130,45" fill="white" stroke="black" stroke-width="3" class="colorable"/>
                    <!-- Urechi interior -->
                    <polygon points="50,55 40,30 62,48" fill="white" stroke="black" stroke-width="2" class="colorable"/>
                    <polygon points="150,55 160,30 138,48" fill="white" stroke="black" stroke-width="2" class="colorable"/>
                    <!-- Ochi -->
                    <ellipse cx="75" cy="90" rx="12" ry="15" fill="white" stroke="black" stroke-width="2" class="colorable"/>
                    <ellipse cx="125" cy="90" rx="12" ry="15" fill="white" stroke="black" stroke-width="2" class="colorable"/>
                    <!-- Pupile -->
                    <ellipse cx="75" cy="92" rx="5" ry="8" fill="black"/>
                    <ellipse cx="125" cy="92" rx="5" ry="8" fill="black"/>
                    <!-- Nas -->
                    <polygon points="100,115 93,125 107,125" fill="white" stroke="black" stroke-width="2" class="colorable"/>
                    <!-- GurƒÉ -->
                    <path d="M100,125 L100,135" stroke="black" stroke-width="2" fill="none"/>
                    <path d="M90,140 Q100,150 110,140" stroke="black" stroke-width="2" fill="none"/>
                    <!-- MustƒÉ»õi -->
                    <line x1="50" y1="120" x2="85" y2="125" stroke="black" stroke-width="2"/>
                    <line x1="50" y1="130" x2="85" y2="130" stroke="black" stroke-width="2"/>
                    <line x1="50" y1="140" x2="85" y2="135" stroke="black" stroke-width="2"/>
                    <line x1="150" y1="120" x2="115" y2="125" stroke="black" stroke-width="2"/>
                    <line x1="150" y1="130" x2="115" y2="130" stroke="black" stroke-width="2"/>
                    <line x1="150" y1="140" x2="115" y2="135" stroke="black" stroke-width="2"/>
                </svg>`
            },
            // üåª SOARE
            {
                name: 'Soare',
                svg: `<svg viewBox="0 0 200 200" class="art-line-image w-full h-full max-h-[500px]">
                    <!-- Raze -->
                    <polygon points="100,10 95,45 105,45" fill="white" stroke="black" stroke-width="2" class="colorable"/>
                    <polygon points="100,190 95,155 105,155" fill="white" stroke="black" stroke-width="2" class="colorable"/>
                    <polygon points="10,100 45,95 45,105" fill="white" stroke="black" stroke-width="2" class="colorable"/>
                    <polygon points="190,100 155,95 155,105" fill="white" stroke="black" stroke-width="2" class="colorable"/>
                    <polygon points="30,30 55,50 50,55" fill="white" stroke="black" stroke-width="2" class="colorable"/>
                    <polygon points="170,30 145,50 150,55" fill="white" stroke="black" stroke-width="2" class="colorable"/>
                    <polygon points="30,170 55,150 50,145" fill="white" stroke="black" stroke-width="2" class="colorable"/>
                    <polygon points="170,170 145,150 150,145" fill="white" stroke="black" stroke-width="2" class="colorable"/>
                    <!-- Centru soare -->
                    <circle cx="100" cy="100" r="45" fill="white" stroke="black" stroke-width="3" class="colorable"/>
                    <!-- Fa»õƒÉ z√¢mbitoare -->
                    <circle cx="80" cy="90" r="5" fill="black"/>
                    <circle cx="120" cy="90" r="5" fill="black"/>
                    <path d="M75,115 Q100,140 125,115" stroke="black" stroke-width="3" fill="none"/>
                </svg>`
            },

            // ============================================================
            // üé® ADAUGƒÇ DESENELE TALE NOI AICI! üé®
            // ============================================================
            // CopiazƒÉ formatul de mai sus »ôi adaugƒÉ SVG-uri noi
            // Exemplu:
            // {
            //     name: 'Ma»ôinƒÉ',
            //     svg: `<svg viewBox="0 0 200 200" class="art-line-image w-full h-full max-h-[500px]">
            //         ... codul SVG aici ...
            //     </svg>`
            // },
            // ============================================================

        ];

        // Ini»õializare
        function init() {
            createColorPalette();
            createDrawingGallery();
            loadDrawing(0);
            setupDragAndDrop();
        }

        // CreazƒÉ paleta de culori
        function createColorPalette() {
            const palette = document.getElementById('colorPalette');
            colors.forEach((color, index) => {
                const ball = document.createElement('div');
                ball.className = 'color-ball w-14 h-14 md:w-16 md:h-16 rounded-full shadow-lg flex items-center justify-center';
                ball.style.backgroundColor = color.hex;
                ball.style.border = color.hex === '#ffffff' ? '3px solid #ccc' : '3px solid white';
                ball.draggable = true;
                ball.dataset.color = color.hex;
                ball.title = color.name;
                
                // Evenimente drag
                ball.addEventListener('dragstart', handleDragStart);
                ball.addEventListener('dragend', handleDragEnd);
                
                // Click pentru selectare
                ball.addEventListener('click', () => selectColor(color.hex, ball));
                
                // Touch support pentru mobile
                ball.addEventListener('touchstart', handleTouchStart, { passive: false });
                ball.addEventListener('touchmove', handleTouchMove, { passive: false });
                ball.addEventListener('touchend', handleTouchEnd);
                
                palette.appendChild(ball);
            });
        }

        // CreazƒÉ galeria de desene
        function createDrawingGallery() {
            const gallery = document.getElementById('drawingGallery');
            drawings.forEach((drawing, index) => {
                const thumb = document.createElement('div');
                thumb.className = 'thumbnail bg-white rounded-xl p-2 cursor-pointer w-20 h-20 flex items-center justify-center';
                thumb.innerHTML = drawing.svg.replace('max-h-[500px]', 'max-h-[60px]');
                thumb.title = drawing.name;
                thumb.onclick = () => loadDrawing(index);
                
                if (index === 0) thumb.classList.add('active');
                
                gallery.appendChild(thumb);
            });
        }

        // √éncarcƒÉ un desen
        function loadDrawing(index) {
            currentDrawingIndex = index;
            const container = document.getElementById('currentDrawing');
            container.innerHTML = drawings[index].svg;
            
            // Update active thumbnail
            document.querySelectorAll('.thumbnail').forEach((t, i) => {
                t.classList.toggle('active', i === index);
            });
            
            // Setup colorare pentru elementele noi
            setupColorableElements();
        }

        // Setup elemente colorabile
        function setupColorableElements() {
            document.querySelectorAll('.colorable').forEach(elem => {
                elem.addEventListener('click', () => {
                    elem.style.fill = selectedColor;
                    createSparkle(event);
                    elem.classList.add('bounce');
                    setTimeout(() => elem.classList.remove('bounce'), 500);
                });
                
                // Permite drop pe element
                elem.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    elem.style.opacity = '0.7';
                });
                
                elem.addEventListener('dragleave', () => {
                    elem.style.opacity = '1';
                });
                
                elem.addEventListener('drop', (e) => {
                    e.preventDefault();
                    const color = e.dataTransfer.getData('color');
                    if (color) {
                        elem.style.fill = color;
                        createSparkle(e);
                    }
                    elem.style.opacity = '1';
                });
            });
        }

        // Selectare culoare
        function selectColor(hex, ball) {
            selectedColor = hex;
            
            // ActualizeazƒÉ indicatorul
            const indicator = document.getElementById('selectedColorIndicator');
            const preview = document.getElementById('currentColorPreview');
            preview.style.backgroundColor = hex;
            indicator.classList.remove('hidden');
            
            // Anima»õie pe bilƒÉ
            ball.classList.add('bounce');
            setTimeout(() => ball.classList.remove('bounce'), 500);
        }

        // Drag handlers
        function handleDragStart(e) {
            e.dataTransfer.setData('color', e.target.dataset.color);
            e.target.classList.add('dragging');
            selectedColor = e.target.dataset.color;
            
            const indicator = document.getElementById('selectedColorIndicator');
            const preview = document.getElementById('currentColorPreview');
            preview.style.backgroundColor = selectedColor;
            indicator.classList.remove('hidden');
        }

        function handleDragEnd(e) {
            e.target.classList.remove('dragging');
        }

        // Touch handlers pentru mobile
        let touchedBall = null;
        let touchColor = null;

        function handleTouchStart(e) {
            e.preventDefault();
            touchedBall = e.target;
            touchColor = e.target.dataset.color;
            selectColor(touchColor, touchedBall);
            touchedBall.classList.add('dragging');
        }

        function handleTouchMove(e) {
            e.preventDefault();
        }

        function handleTouchEnd(e) {
            if (touchedBall) {
                touchedBall.classList.remove('dragging');
                
                // GƒÉse»ôte elementul sub touch
                const touch = e.changedTouches[0];
                const elem = document.elementFromPoint(touch.clientX, touch.clientY);
                
                if (elem && elem.classList.contains('colorable')) {
                    elem.style.fill = touchColor;
                    createSparkle({ clientX: touch.clientX, clientY: touch.clientY });
                }
            }
            touchedBall = null;
            touchColor = null;
        }

        // Setup drag and drop pe zona de colorat
        function setupDragAndDrop() {
            const area = document.getElementById('coloringArea');
            
            area.addEventListener('dragover', (e) => {
                e.preventDefault();
            });
        }

        // CreazƒÉ efecte de sclipire
        function createSparkle(e) {
            const sparkles = ['‚ú®', '‚≠ê', 'üåü', 'üí´'];
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'sparkle text-2xl';
                    sparkle.textContent = sparkles[Math.floor(Math.random() * sparkles.length)];
                    sparkle.style.left = (e.clientX + (Math.random() - 0.5) * 60) + 'px';
                    sparkle.style.top = (e.clientY + (Math.random() - 0.5) * 60) + 'px';
                    document.body.appendChild(sparkle);
                    setTimeout(() => sparkle.remove(), 600);
                }, i * 50);
            }
        }

        // Reset desen
        function resetDrawing() {
            document.querySelectorAll('.colorable').forEach(elem => {
                elem.style.fill = 'white';
            });
        }

        // DescarcƒÉ desenul
        function downloadDrawing() {
            const svg = document.querySelector('.art-line-image');
            if (!svg) return;
            
            const svgData = new XMLSerializer().serializeToString(svg);
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            const img = new Image();
            
            canvas.width = 800;
            canvas.height = 800;
            
            img.onload = function() {
                ctx.fillStyle = 'white';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.drawImage(img, 0, 0, 800, 800);
                
                const link = document.createElement('a');
                link.download = 'desen-colorat.png';
                link.href = canvas.toDataURL('image/png');
                link.click();
            };
            
            img.src = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(svgData)));
        }

        // Start!
        init();
    </script>
</body>
</html>